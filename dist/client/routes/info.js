"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"get",{enumerable:!0,get:()=>get});const e=_interopRequireDefault(require("path")),t=_interopRequireDefault(require("fs"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function get(r,l,a){let f={};for(let n in r.managers){let i=r.managers[n],d=t.default.readdirSync(i.folder),u=[];for(let o of d){let s=e.default.resolve(i.folder,o,"manifest.json");if(t.default.existsSync(s))try{let c=JSON.parse(t.default.readFileSync(s,"utf-8"));c.id&&u.push(c.id)}catch{}}f[n]=u}a.setHeader("Access-Control-Allow-Origin","*"),a.setHeader("Content-Type","application/json"),a.end(Buffer.from(JSON.stringify(f),"utf-8"))}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jbGllbnQvcm91dGVzL2luZm8udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XHJcbmltcG9ydCBmcyBmcm9tICdmcyc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0KGluc3RhbmNlLCBfLCByZXMpIHtcclxuICAgY29uc3QgZGF0YSA9IHt9O1xyXG5cclxuICAgZm9yIChjb25zdCBtYW5hZ2VyIGluIGluc3RhbmNlLm1hbmFnZXJzKSB7XHJcbiAgICAgIGNvbnN0IHBheWxvYWQgPSBpbnN0YW5jZS5tYW5hZ2Vyc1ttYW5hZ2VyXTtcclxuICAgICAgY29uc3QgYWRkb25zID0gZnMucmVhZGRpclN5bmMocGF5bG9hZC5mb2xkZXIpO1xyXG5cclxuICAgICAgY29uc3QgYWRkb25JRHMgPSBbXTtcclxuICAgICAgZm9yIChjb25zdCBhZGRvbiBvZiBhZGRvbnMpIHtcclxuICAgICAgICAgY29uc3QgbWFuaWZlc3QgPSBwYXRoLnJlc29sdmUocGF5bG9hZC5mb2xkZXIsIGFkZG9uLCAnbWFuaWZlc3QuanNvbicpO1xyXG4gICAgICAgICBpZiAoIWZzLmV4aXN0c1N5bmMobWFuaWZlc3QpKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluZm8gPSBKU09OLnBhcnNlKGZzLnJlYWRGaWxlU3luYyhtYW5pZmVzdCwgJ3V0Zi04JykpO1xyXG4gICAgICAgICAgICBpZiAoaW5mby5pZCkgYWRkb25JRHMucHVzaChpbmZvLmlkKTtcclxuICAgICAgICAgfSBjYXRjaCB7IH1cclxuICAgICAgfVxyXG5cclxuICAgICAgZGF0YVttYW5hZ2VyXSA9IGFkZG9uSURzO1xyXG4gICB9XHJcblxyXG4gICByZXMuc2V0SGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nLCAnKicpO1xyXG4gICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xyXG4gICByZXMuZW5kKEJ1ZmZlci5mcm9tKEpTT04uc3RyaW5naWZ5KGRhdGEpLCAndXRmLTgnKSk7XHJcbn0iXSwibmFtZXMiOlsiZ2V0IiwiaW5zdGFuY2UiLCJfIiwicmVzIiwiZGF0YSIsIm1hbmFnZXIiLCJtYW5hZ2VycyIsInBheWxvYWQiLCJhZGRvbnMiLCJmcyIsInJlYWRkaXJTeW5jIiwiZm9sZGVyIiwiYWRkb25JRHMiLCJhZGRvbiIsIm1hbmlmZXN0IiwicGF0aCIsInJlc29sdmUiLCJleGlzdHNTeW5jIiwiaW5mbyIsIkpTT04iLCJwYXJzZSIsInJlYWRGaWxlU3luYyIsImlkIiwicHVzaCIsInNldEhlYWRlciIsImVuZCIsIkJ1ZmZlciIsImZyb20iLCJzdHJpbmdpZnkiXSwibWFwcGluZ3MiOiJBQUFBLGtHQUdnQkEsS0FBRyx3QkFBSEEsR0FBRywwQ0FIRixNQUFNLG9DQUNSLElBQUksMkVBRVosU0FBU0EsR0FBRyxDQUFDQyxDQUFRLENBQUVDLENBQUMsQ0FBRUMsQ0FBRyxDQUFFLENBQ25DLElBQU1DLENBQUksQ0FBRyxFQUFFLEFBQUMsQUFFaEIsS0FBSyxJQUFNQyxDQUFPLElBQUlKLENBQVEsQ0FBQ0ssUUFBUSxDQUFFLENBQ3RDLElBQU1DLENBQU8sQ0FBR04sQ0FBUSxDQUFDSyxRQUFRLENBQUNELENBQU8sQ0FBQyxDQUNwQ0csQ0FBTSxDQUFHQyxDQUFFLFFBQUEsQ0FBQ0MsV0FBVyxDQUFDSCxDQUFPLENBQUNJLE1BQU0sQ0FBQyxDQUV2Q0MsQ0FBUSxDQUFHLEVBQUUsQUFId0IsQUFJM0MsS0FBSyxJQUFNQyxDQUFLLElBQUlMLENBQU0sQ0FBRSxDQUN6QixJQUFNTSxDQUFRLENBQUdDLENBQUksUUFBQSxDQUFDQyxPQUFPLENBQUNULENBQU8sQ0FBQ0ksTUFBTSxDQUFFRSxDQUFLLENBQUUsZUFBZSxDQUFDLEFBQUMsQUFDdEUsSUFBS0osQ0FBRSxRQUFBLENBQUNRLFVBQVUsQ0FBQ0gsQ0FBUSxDQUFDLENBRTVCLEdBQUksQ0FDRCxJQUFNSSxDQUFJLENBQUdDLElBQUksQ0FBQ0MsS0FBSyxDQUFDWCxDQUFFLFFBQUEsQ0FBQ1ksWUFBWSxDQUFDUCxDQUFRLENBQUUsT0FBTyxDQUFDLENBQUMsQUFBQyxBQUN4REksQ0FBQUEsQ0FBSSxDQUFDSSxFQUFFLEVBQUVWLENBQVEsQ0FBQ1csSUFBSSxDQUFDTCxDQUFJLENBQUNJLEVBQUUsQ0FBQyxDQUNyQyxBQUFDLEtBQU0sRUFBRyxBQUw0QixDQU16QyxBQUVEbEIsQ0FBSSxDQUFDQyxDQUFPLENBQUMsQ0FBR08sQ0FBUSxDQUMxQixBQUVEVCxBQXJCOEJBLENBQUcsQ0FxQjdCcUIsU0FBUyxDQUFDLDZCQUE2QixDQUFFLEdBQUcsQ0FBQyxDQUNqRHJCLEFBdEI4QkEsQ0FBRyxDQXNCN0JxQixTQUFTLENBQUMsY0FBYyxDQUFFLGtCQUFrQixDQUFDLENBQ2pEckIsQUF2QjhCQSxDQUFHLENBdUI3QnNCLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDQyxJQUFJLENBQUNSLElBQUksQ0FBQ1MsU0FBUyxDQUFDeEIsQ0FBSSxDQUFDLENBQUUsT0FBTyxDQUFDLENBQUMsQ0FDckQifQ==