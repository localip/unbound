"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),!function _export(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(exports,{started:()=>d,initialize:()=>initialize,shutdown:()=>shutdown});const a=require("../../../common/logger"),b=function _interopRequireWildcard(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=_getRequireWildcardCache(b);if(c&&c.has(a))return c.get(a);var d={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if("default"!==f&&Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(d,f,g):d[f]=a[f]}return d.default=a,c&&c.set(a,d),d}(require("./registry"));function _getRequireWildcardCache(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(_getRequireWildcardCache=function(a){return a?c:b})(a)}const c=(0,a.createLogger)("Patches"),d={};async function initialize(){let a=Object.entries(b);for(let e=0;e<a.length;e++){let[f,g]=a[e];if(!d[f])try{await g.initialize(),d[f]=!0}catch(h){c.error(`Failed to initialize ${f}.`,h.message)}}}async function shutdown(){let a=Object.entries(b);for(let e=0;e<a.length;e++){let[f,g]=a[e];if(d[f])try{await g.shutdown(),delete d[f]}catch(h){c.error(`Failed to initialize ${f}.`,h.message)}}}