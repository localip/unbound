"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),!function _export(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(exports,{commands:()=>n,section:()=>o,initialize:()=>initialize,shutdown:()=>shutdown,register:()=>register,unregister:()=>unregister});const a=require("../../../common/logger"),b=require("../../modules/webpack/index"),c=require("../../modules/webpack/api");require("../../../common/utilities/index");const d=require("../../modules/patcher/index"),e=_interopRequireDefault(require("../../core/commands")),f=_interopRequireDefault(require("../clyde"));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}require("../../modules/react"),require("./components/SectionIcon"),(0,a.createLogger)("API","Commands"),(0,d.create)("unbound-commands");const[g,h,i,j,k,l,m]=(0,b.bulk)(b.filters.byProps("getBuiltInCommands"),b.filters.byProps("getApplicationIconURL"),b.filters.byProps("useSearchManager"),a=>!a.mask&&a.icon&&a.selectable&&a.wrapper,b.filters.byDisplayName("ApplicationCommandDiscoverySectionIcon",!1),b.filters.byDisplayName("ApplicationCommandItem",!1),a=>a.type?.displayName==="ChannelApplicationIcon"),n=new Map,o={id:"unbound",type:0,name:"Unbound",icon:"https://github.com/unbound-mod.png"};function initialize(){register(...e.default)}function shutdown(){e.default.map(a=>unregister(a.name))}function register(...a){for(let b of a){let{name:d,description:e,execute:g,...h}=b;if(!d||!e)return;n.set(d,{type:3,target:1,id:d,name:d,displayName:d,displayDescription:e,applicationId:o.id,options:[],__unbound:!0,listed:!0,dmPermission:!0,execute(...a){let b=g?.(...a);if("object"==typeof b&&!Array.isArray(b))return b.send?(c.Messages.sendMessage(a[1].channel.id,{invalidEmojis:[],tts:!1,validNonShortcutEmojis:[],...b}),void 0):f.default.send(b);return b},...h})}}function unregister(a){n.delete(a)}