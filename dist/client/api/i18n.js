"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(exports,{state:()=>c,initialize:()=>d,shutdown:()=>e,add:()=>f,addStrings:()=>g,inject:()=>h});const a=require("../modules/webpack/common"),b=function(a){return a&&a.__esModule?a:{default:a}}(require("../i18n")),c={locale:"en-US",messages:{}};function d(){a.Locale&&(c.locale=a.Locale.getLocale()??"en-US",a.Locale.on("locale",i),f(b.default))}function e(){a.Locale&&a.Locale.off("locale",i)}function f(a){if("object"!=typeof a||Array.isArray(a))throw Error("Locale strings must be an object with languages and strings.");for(let b in a)g(b,a[b])}function g(a,b){c.locale&&(c.messages[a]??={},Object.assign(c.messages[a],b),h())}function h(){if(!c.locale||!a.Locale)return;let b=a.Locale._provider._context;Object.assign(b.messages,c.messages[c.locale]??{}),Object.assign(b.defaultMessages,c.messages["en-US"]??{})}function i(b){c.locale=b,a.Locale.loadPromise.then(h)}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jbGllbnQvYXBpL2kxOG4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTG9jYWxlIH0gZnJvbSAnQHdlYnBhY2svY29tbW9uJztcclxuaW1wb3J0IGkxOG4gZnJvbSAnQGNsaWVudC9pMThuJztcclxuXHJcbnR5cGUgTG9jYWxlU3RyaW5ncyA9IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIGFueT4+O1xyXG5cclxuZXhwb3J0IGNvbnN0IHN0YXRlID0ge1xyXG4gIGxvY2FsZTogJ2VuLVVTJyxcclxuICBtZXNzYWdlczoge31cclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xyXG4gIGlmICghTG9jYWxlKSByZXR1cm47XHJcblxyXG4gIHN0YXRlLmxvY2FsZSA9IExvY2FsZS5nZXRMb2NhbGUoKSA/PyAnZW4tVVMnO1xyXG4gIExvY2FsZS5vbignbG9jYWxlJywgb25DaGFuZ2UpO1xyXG5cclxuICAvLyBBZGQgY29yZSBzdHJpbmdzXHJcbiAgYWRkKGkxOG4pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2h1dGRvd24oKSB7XHJcbiAgaWYgKCFMb2NhbGUpIHJldHVybjtcclxuXHJcbiAgTG9jYWxlLm9mZignbG9jYWxlJywgb25DaGFuZ2UpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkKHN0cmluZ3M6IExvY2FsZVN0cmluZ3MpIHtcclxuICBpZiAodHlwZW9mIHN0cmluZ3MgIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkoc3RyaW5ncykpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignTG9jYWxlIHN0cmluZ3MgbXVzdCBiZSBhbiBvYmplY3Qgd2l0aCBsYW5ndWFnZXMgYW5kIHN0cmluZ3MuJyk7XHJcbiAgfVxyXG5cclxuICBmb3IgKGNvbnN0IGxvY2FsZSBpbiBzdHJpbmdzKSB7XHJcbiAgICBhZGRTdHJpbmdzKGxvY2FsZSwgc3RyaW5nc1tsb2NhbGVdKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkU3RyaW5ncyhsb2NhbGU6IHN0cmluZywgc3RyaW5nczogTG9jYWxlU3RyaW5ncykge1xyXG4gIGlmICghc3RhdGUubG9jYWxlKSByZXR1cm47XHJcblxyXG4gIHN0YXRlLm1lc3NhZ2VzW2xvY2FsZV0gPz89IHt9O1xyXG4gIE9iamVjdC5hc3NpZ24oc3RhdGUubWVzc2FnZXNbbG9jYWxlXSwgc3RyaW5ncyk7XHJcblxyXG4gIGluamVjdCgpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5qZWN0KCkge1xyXG4gIGlmICghc3RhdGUubG9jYWxlIHx8ICFMb2NhbGUpIHJldHVybjtcclxuXHJcbiAgY29uc3QgY29udGV4dCA9IExvY2FsZS5fcHJvdmlkZXIuX2NvbnRleHQ7XHJcblxyXG4gIE9iamVjdC5hc3NpZ24oY29udGV4dC5tZXNzYWdlcywgc3RhdGUubWVzc2FnZXNbc3RhdGUubG9jYWxlXSA/PyB7fSk7XHJcbiAgT2JqZWN0LmFzc2lnbihjb250ZXh0LmRlZmF1bHRNZXNzYWdlcywgc3RhdGUubWVzc2FnZXNbJ2VuLVVTJ10gPz8ge30pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvbkNoYW5nZShsb2NhbGUpIHtcclxuICBzdGF0ZS5sb2NhbGUgPSBsb2NhbGU7XHJcbiAgTG9jYWxlLmxvYWRQcm9taXNlLnRoZW4oaW5qZWN0KTtcclxufSJdLCJuYW1lcyI6WyJzdGF0ZSIsImluaXRpYWxpemUiLCJzaHV0ZG93biIsImFkZCIsImFkZFN0cmluZ3MiLCJpbmplY3QiLCJsb2NhbGUiLCJtZXNzYWdlcyIsIkxvY2FsZSIsImdldExvY2FsZSIsIm9uIiwib25DaGFuZ2UiLCJpMThuIiwib2ZmIiwic3RyaW5ncyIsIkFycmF5IiwiaXNBcnJheSIsIkVycm9yIiwiT2JqZWN0IiwiYXNzaWduIiwiY29udGV4dCIsIl9wcm92aWRlciIsIl9jb250ZXh0IiwiZGVmYXVsdE1lc3NhZ2VzIiwibG9hZFByb21pc2Ui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