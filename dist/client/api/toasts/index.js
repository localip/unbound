"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),!function _export(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(exports,{events:()=>g,once:()=>h,off:()=>i,on:()=>j,toasts:()=>k,container:()=>l,initialize:()=>initialize,shutdown:()=>shutdown,open:()=>open,close:()=>close,closeAll:()=>closeAll,clear:()=>clear});const a=_interopRequireDefault(require("./components/ToastsContainer")),b=require("../../modules/webpack/common"),c=require("../../../common/utilities/index"),d=_interopRequireDefault(require("../../modules/react")),e=_interopRequireDefault(require("../../styles/api/toasts.css")),f=_interopRequireDefault(require("events"));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}e.default.append();const g=new f.default,h=g.once.bind(g),i=g.off.bind(g),j=g.on.bind(g),k={storage:{}},l=document.createElement("div");function initialize(){setImmediate(()=>{b.ReactDOM.render(d.default.createElement(a.default,{manager:this,toasts:k}),l),document.body.appendChild(l)})}function shutdown(){l.remove()}function open(a){return(a.id??=(0,c.uuid)(5),a.time=Date.now(),k.storage[a.id])?open({...a,id:(0,c.uuid)(5)}):(k.storage[a.id]=a,g.emit("change",a),g.emit("opened",a),a.id)}function close(a,b=!1){let c=k.storage[a];c&&(b?delete k.storage[c.id]:k.storage[c.id]={...c,closing:!0},g.emit("change",c),g.emit("closed",c))}function closeAll(){for(let a in k.storage)close(a);g.emit("change"),g.emit("closed-all")}function clear(){for(let a in k.storage)delete k[a];g.emit("change"),g.emit("cleared")}l.className="unbound-toasts"