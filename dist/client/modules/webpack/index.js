"use strict";var a;Object.defineProperty(exports,"__esModule",{value:!0}),!function _export(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(exports,{filters:()=>a,listeners:()=>d,common:()=>e,data:()=>f,addListener:()=>addListener,removeListener:()=>removeListener,find:()=>find,findByIndex:()=>findByIndex,findLazy:()=>findLazy,findByProps:()=>findByProps,findByPrototypes:()=>findByPrototypes,findByKeyword:()=>findByKeyword,findStore:()=>findStore,findByStrings:()=>findByStrings,findByDisplayName:()=>findByDisplayName,bulk:()=>bulk,initialize:()=>initialize,shutdown:()=>shutdown,request:()=>request});const b=require("../../../common/logger"),c=(0,b.createLogger)("Webpack"),d=new Set,e={},f={initialized:!1,available:new Promise(()=>{}),cache:{},global:"webpackChunkdiscord_app",instance:null,push:null,sentry:{blocked:!1,tries:0}};function addListener(a){return d.add(a),removeListener.bind(this,a)}function removeListener(a){return d.delete(a)}function find(...b){let[d,{all:e,cache:g=!0,raw:h=!1,interop:i=!0,initial:j}]=parseOptions(b);if(!d?.length)throw Error("Webpack searches require a filter to search by.");let k=request(!0);if(!k)return;let l=!1,m=j??[],n=a.combine(...d),validate=(a,b)=>{try{return n(a,b)}catch(d){return l||(c.warn("Uncaught Exception with filter. This can cause lag spikes & slow startup times. Please handle any possible null cases in your filter.",d.message),l=!0),!1}},o=g?f.cache:k.c;for(let p in o){let q=k.c[p].exports;if(!(!q||q===window|| ~m.indexOf(i&&q.default?q.default:q))){if("object"==typeof q){if(validate(q,p)){f.cache[p]=k.c[p];let r=h?k.c[p]:q;if(!e)return r;m.push(r)}if(q.default&&validate(q.default,p)){f.cache[p]=k.c[p];let s=h?k.c[p]:i?q.default:q;if(!e)return s;m.push(s)}let t=Object.getOwnPropertyDescriptors(q),u=Object.keys(t).filter(a=>t[a].get);if(u)for(let v of u){let w=q[v];if(w){if(w.__esModule&&w.default&&validate(w.default,p)){let x=h?q:i?w.default:w;if(!e)return x;m.push(x)}if(validate(w,p)){let y=h?q:w;if(!e)return y;m.push(y)}}}}else{if(!validate(q,p))continue;f.cache[p]=k.c[p];let z=h?k.c[p]:q;if(!e)return z;m.push(z)}}}return!g||e||m.length?g&&e?find(n,{all:e,raw:h,cache:!1,interop:i,initial:m}):e?m:m[0]:find(n,{all:e,raw:h,cache:!1,interop:i})}function findByIndex(a){if(!f.instance.c[a])try{f.instance.r(a)}catch(b){return null}return f.instance.c[a]}function findLazy(...b){let[c,{all:d=!1,interop:e=!0,raw:f=!1}]=parseOptions(b),g=find(...c,{all:d,interop:e});if(g)return Promise.resolve(g);let h=a.combine(...c),validate=(a,b)=>{try{return h(a,b)}catch{return!1}},i=[];return new Promise(a=>{let listener=c=>{if(validate(c)&&i.push(c),c.default&&validate(c.default)){let g=e?c.default:c;i.push(g)}let h=Object.getOwnPropertyDescriptors(c),j=Object.keys(h).filter(a=>h[a].get);if(j)for(let k of j){let l=c[k];if(l){if(l.__esModule&&l.default&&validate(l.default)){let m=f?c:e?l.default:l;i.push(m)}if(validate(l)){let n=f?c:l;i.push(n)}}}i.length&&(a(d?i:i[0]),b())},b=addListener(listener)})}function _find(a,b,c){let{bulk:d,wait:e,...f}=b;return b.bulk?bulk(...a.map(a=>c(...a)),b):e?findLazy(c(...a),f):find(c(...a),f)}function findByProps(...b){let[c,d]=parseOptions(b);return _find(c,d,a.byProps)}function findByPrototypes(...b){let[c,d]=parseOptions(b);return _find(c,d,a.byPrototypes)}function findByKeyword(...a){let[b,{caseSensitive:c=!1,...d}]=parseOptions(a);return _find(b,d,a=>b=>{let d=[...Object.keys(b),...Object.keys(b.__proto__)];for(let e=0;e<d.length;e++){let f=d[e];if(c){if(~f.indexOf(a))return!0}else{let g=a.toLowerCase();if(~f.toLowerCase().indexOf(g))return!0}}return!1})}function findStore(...b){let[c,{short:d=!1,...e}]=parseOptions(b);return _find(c,{short:d,...e},a.byStoreName)}function findByStrings(...b){let[c,{interop:d=!0,...e}]=parseOptions(b);return _find(c,{interop:d,...e},a.byStrings)}function findByDisplayName(...b){let[c,{interop:d=!0,deep:e=!1,exact:f=!0,...g}]=parseOptions(b);return _find(c,{interop:d,...g},b=>a.byDisplayName(b,d,e,f))}function bulk(...b){let[d,{wait:e=!1,...f}]=parseOptions(b);if(!d||!d.length)return;let g=!1,h=Array(d.length),i=e?findLazy:find,j=d.map(b=>{let e=Array.isArray(b)?a.combine(...d):b;return(a,b)=>{try{return e(a,b)}catch(d){return g||(c.warn("Uncaught Exception with filter. This can cause lag spikes & slow startup times. Please handle any possible null cases in your filter.",d.message),g=!0),!1}}}),k=i((a,b)=>{for(let c=0;c<j.length;c++){let e=j[c];"function"==typeof e&&e(a,b)&&null==h[c]&&(h[c]=a)}return h.filter(String).length===d.length},f);return e?k.then(()=>h):h}async function initialize(){if(!f.initialized){if(window.__SPLASH__){let b=Function.prototype.call;await new Promise(a=>{Function.prototype.call=function(...d){try{let e=d[3];e?.c&&e.m&&"__webpack_require__"!==e.name&&(f.instance=e,Function.prototype.call=b,a())}catch(g){c.error("Failed to fetch.",g),Function.prototype.call=b}return b.apply(this,d)}})}else await waitForGlobal(),request(),f.push=window[f.global].push,Object.defineProperty(window[f.global],"push",{configurable:!0,get:()=>onPush,set:a=>f.push=a}),await findLazy(a.byPrototypes("getPredicateSections"));f.initialized=!0,f.available=Promise.resolve()}}function shutdown(){f.initialized&&(delete window[f.global].push,Object.defineProperty(window[f.global],"push",{configurable:!0,get:()=>f.push,set(a){delete window[f.global].push,window[f.global].push=a}}))}function request(a=!0){if(a&&f.instance)return f.instance;let b=window[f.global].push([[Symbol()],{},a=>a]);return window[f.global].pop(),b&&(f.instance=b),b}function parseOptions(a,b=a=>"object"==typeof a&&!Array.isArray(a),c={}){return[a,b(a[a.length-1])?a.pop():c]}function waitForGlobal(){return window[f.global]?Promise.resolve():new Promise(a=>{Object.defineProperty(window,f.global,{get:()=>void 0,configurable:!0,set(b){delete window[f.global],window[f.global]=b,a()}})})}function onPush(a){let b=a[1];if(f.sentry.tries<5&&!f.sentry.blocked&&(f.sentry.tries++,Object.values(b).find(a=>~a.toString().indexOf("BetterDiscord"))))return f.sentry.blocked=!0;for(let e in b){let g=b[e];b[e]=(...a)=>{let b=a[1];if(g.apply(null,a),d?.size)for(let e of d)try{e(b)}catch(f){c.error("Failed to fire listener.",f)}},Object.assign(b[e],g,{toString:g.toString.bind(g),__original:g})}return Reflect.apply(f.push,window[f.global],[a])}!function(a){a.byProps=function byProps(...a){return b=>{for(let c=0,d=a.length;c<d;c++)if(void 0===b[a[c]])return!1;return!0}},a.byPrototypes=function byPrototypes(...a){return b=>{for(let c=0,d=a.length;c<d;c++)if(b.prototype?.[a[c]]===void 0)return!1;return!0}},a.byDisplayName=function byDisplayName(a,b=!0,c=!1,d=!0){return e=>c&&e.type?.displayName?e.type.displayName===a|| !d&& ~e.type.displayName.indexOf(a):c&&e.render?.displayName?e.render.displayName===a|| !d&& ~e.render.displayName.indexOf(a):c&&e.displayName?e.displayName===a|| !d&& ~e.displayName.indexOf(a):b?"function"==typeof e&&e.displayName===a:"function"==typeof e.default&&e.default.displayName===a},a.byStrings=function byStrings(...a){return b=>{if(!b||"function"!=typeof b||(b.__original?.toString??b.toString)!==Function.prototype.toString)return!1;for(let c=0,d=a.length;c<d;c++)if(!~b.toString?.()?.indexOf?.(a[c]))return!1;return!0}},a.byStoreName=function byStoreName(a,b=!0){return c=>c.getName?.()===(b&&!a.endsWith("Store")?`${a}Store`:a)},a.combine=function combine(...a){return(b,c)=>{for(let d=0,e=a.length;d<e;d++)if(!a[d](b,c))return!1;return!0}},a.traverse=function traverse(a,b){return(c,d)=>{if(Array.isArray(b))for(let e=0,f=b.length;e<f;e++){let g=c[b[e]];if(void 0===g)return!1;c=g}else{let h=c[b];if(void 0===h)return!1;c=h}return a(c,d)}}}(a||(a={}))