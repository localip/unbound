"use strict";var a;Object.defineProperty(exports,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(exports,{Type:()=>a,create:()=>k,before:()=>h,instead:()=>i,after:()=>j,unpatchAll:()=>f,patches:()=>c,default:()=>l});const b=require("../../../common/logger");!function(a){a.Before="before",a.Instead="instead",a.After="after"}(a||(a={}));const c=[],d=(0,b.createLogger)("Patcher");function e(a){if(!a)return[];let b=[];for(let d of c){let e=[...d.patches.before,...d.patches.instead,...d.patches.after];for(let f of e)f.caller===a&&b.push(f)}return b}function f(a){let b=e(a);if(b.length)for(let c of b)c.unpatch()}function g(b,e,f,g,h=a.After,i=!1){if(b&&"string"==typeof b){if(e&&["function","object"].includes(typeof e)){if(f&&"string"==typeof f){if(g&&"function"==typeof g){if(h&&"string"==typeof h&&["after","before","instead"].includes(h)){if(void 0===e[f])throw ReferenceError(`function ${f} does not exist on the second argument (object or function)`)}else throw TypeError('fifth argument "type" must be of type string and any of the three: after, before, instead')}else throw TypeError('fourth argument "callback" must be of type function')}else throw TypeError('third argument "func" must be of type string')}else throw TypeError('second argument "mdl" must be of type function or object')}else throw TypeError('first argument "caller" must be of type string');let j=function(b,e,f=a.After){let g=c.find(a=>a.mdl===b&&a.func===e);return g||function(b,e,f=a.After){var g;let h={mdl:b,func:e,id:c?.[f]?.length??0,original:b[e],unpatch(){h.mdl[h.func]=h.original,h.patches={before:[],after:[],instead:[]}},patches:{before:[],after:[],instead:[]}},i=(g=h,function(){if(!g?.patches?.before.length&&!g?.patches?.after.length&&!g?.patches?.instead.length&&!c.find(a=>a.mdl===g.mdl&&a.func===g.func))return g.unpatch(),new.target?new g.original(...arguments):g.original.apply(this,arguments);let a,b=arguments,e=g.patches.before;for(let f=0;f<e.length;f++){let h=e[f];if(h)try{let i=h.callback(this,b,g.original.bind(this));Array.isArray(i)&&(b=i),h.once&&h.unpatch()}catch(j){d.error(`Could not fire before patch for ${g.func} of ${h.caller}`,j)}}let k=g.patches.instead;if(k.length)for(let l=0;l<k.length;l++){let m=k[l];if(m)try{let n=m.callback(this,b,g.original.bind(this));void 0!==n&&(a=n),m.once&&m.unpatch()}catch(o){d.error(`Could not fire instead patch for ${g.func} of ${m.caller}`,o)}}else a=new.target?new g.original(...b):g.original.apply(this,b);let p=g.patches.after;for(let q=0;q<p.length;q++){let r=p[q];if(r)try{let s=r.callback(this,b,a,b=>a=b);void 0!==s&&(a=s),r.once&&r.unpatch()}catch(t){d.error(`Could not fire after patch for ${g.func} of ${r.caller}`,t)}}return a});b[e]=i;let j=Object.getOwnPropertyDescriptors(h.original);return delete j.length,Object.defineProperties(b[e],{...j,toString:{value:()=>h.original.toString(),configurable:!0,enumerable:!1},__original:{value:h.original,configurable:!0,enumerable:!1}}),c.push(h),h}(b,e,f)}(e,f,h),k={caller:b,once:i,type:h,id:j.patches?.[h]?.length??0,callback:g,unpatch(){let a=j.patches?.[h].findIndex(a=>a.id===k.id);if(~a&&j.patches?.[h].splice(a,1),j.patches?.before.length||j.patches?.after.length||j.patches?.instead.length)return;let b=c.findIndex(a=>a.mdl==e&&a.func==f);b&&(c[b]?.unpatch(),c.splice(b,1))}};return j.patches[h]??=[],j.patches[h].push(k),k.unpatch}function h(b,c,d,e,f=!1){return g(b,c,d,e,a.Before,f)}function i(b,c,d,e,f=!1){return g(b,c,d,e,a.Instead,f)}function j(b,c,d,e,f=!1){return g(b,c,d,e,a.After,f)}function k(a){return{getPatchesByCaller:e,before:(b,c,d,e=!1)=>h(a,b,c,d,e),instead:(b,c,d,e=!1)=>i(a,b,c,d,e),after:(b,c,d,e=!1)=>j(a,b,c,d,e),unpatchAll:()=>f(a)}}const l={create:k,before:h,instead:i,after:j,unpatchAll:f,patches:c}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jbGllbnQvbW9kdWxlcy9wYXRjaGVyL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUxvZ2dlciB9IGZyb20gJ0Bjb21tb24vbG9nZ2VyJztcclxuXHJcbnR5cGUgQXJndW1lbnRzPFQgZXh0ZW5kcyBGbj4gPSBUIGV4dGVuZHMgKC4uLmFyZ3M6IGluZmVyIFApID0+IGFueSA/IFAgOiBhbnlbXTtcclxuXHJcbmV4cG9ydCB0eXBlIEJlZm9yZU92ZXJ3cml0ZTxGIGV4dGVuZHMgRm4+ID0gKGNvbnRleHQ/OiBhbnksIGFyZ3M/OiBBcmd1bWVudHM8Rj4sIG9yaWdpbmFsPzogRikgPT4gQXJndW1lbnRzPEY+IHwgdm9pZDtcclxuZXhwb3J0IHR5cGUgSW5zdGVhZE92ZXJ3cml0ZTxGIGV4dGVuZHMgRm4+ID0gKGNvbnRleHQ/OiBhbnksIGFyZ3M/OiBBcmd1bWVudHM8Rj4sIG9yaWdpbmFsPzogRikgPT4gUmV0dXJuVHlwZTxGPiB8IHZvaWQ7XHJcbmV4cG9ydCB0eXBlIEFmdGVyT3ZlcndyaXRlPEYgZXh0ZW5kcyBGbj4gPSAoY29udGV4dD86IGFueSwgYXJncz86IEFyZ3VtZW50czxGPiwgcmVzdWx0PzogUmV0dXJuVHlwZTxGPikgPT4gUmV0dXJuVHlwZTxGPiB8IHZvaWQ7XHJcblxyXG5leHBvcnQgdHlwZSBQcm9wT2Y8TT4gPSB7XHJcbiAgIFtLIGluIGtleW9mIE1dOiBNW0tdIGV4dGVuZHMgRm4gPyBFeHRyYWN0PEssIHN0cmluZz4gOiBuZXZlclxyXG59W2tleW9mIE1dO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQYXRjaCB7XHJcbiAgIG1kbDogUmVjb3JkPHN0cmluZywgYW55PiB8IEZ1bmN0aW9uO1xyXG4gICBmdW5jOiBzdHJpbmc7XHJcbiAgIG9yaWdpbmFsOiBGdW5jdGlvbjtcclxuICAgdW5wYXRjaDogKCkgPT4gdm9pZDtcclxuICAgcGF0Y2hlczoge1xyXG4gICAgICBiZWZvcmU6IFBhdGNoZXJbXTtcclxuICAgICAgYWZ0ZXI6IFBhdGNoZXJbXTtcclxuICAgICAgaW5zdGVhZDogUGF0Y2hlcltdO1xyXG4gICB9O1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFBhdGNoZXIge1xyXG4gICBjYWxsZXI6IHN0cmluZztcclxuICAgb25jZTogYm9vbGVhbjtcclxuICAgdHlwZTogVHlwZTtcclxuICAgaWQ6IG51bWJlcjtcclxuICAgY2FsbGJhY2s6IGFueTtcclxuICAgdW5wYXRjaDogKCkgPT4gdm9pZDtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgQ29uc3RydWN0b3IgPSAobmV3ICgpID0+IGFueSk7XHJcblxyXG5leHBvcnQgZW51bSBUeXBlIHtcclxuICAgQmVmb3JlID0gJ2JlZm9yZScsXHJcbiAgIEluc3RlYWQgPSAnaW5zdGVhZCcsXHJcbiAgIEFmdGVyID0gJ2FmdGVyJyxcclxufVxyXG5cclxuY29uc3QgcGF0Y2hlczogUGF0Y2hbXSA9IFtdO1xyXG5jb25zdCBMb2dnZXIgPSBjcmVhdGVMb2dnZXIoJ1BhdGNoZXInKTtcclxuXHJcbmZ1bmN0aW9uIGdldFBhdGNoZXNCeUNhbGxlcihpZDogc3RyaW5nKSB7XHJcbiAgIGlmICghaWQpIHJldHVybiBbXTtcclxuICAgY29uc3QgX3BhdGNoZXM6IFBhdGNoZXJbXSA9IFtdO1xyXG5cclxuICAgZm9yIChjb25zdCBlbnRyeSBvZiBwYXRjaGVzKSB7XHJcbiAgICAgIGNvbnN0IHN0b3JlID0gW1xyXG4gICAgICAgICAuLi5lbnRyeS5wYXRjaGVzLmJlZm9yZSxcclxuICAgICAgICAgLi4uZW50cnkucGF0Y2hlcy5pbnN0ZWFkLFxyXG4gICAgICAgICAuLi5lbnRyeS5wYXRjaGVzLmFmdGVyXHJcbiAgICAgIF07XHJcblxyXG4gICAgICBmb3IgKGNvbnN0IHBhdGNoIG9mIHN0b3JlKSB7XHJcbiAgICAgICAgIGlmIChwYXRjaC5jYWxsZXIgPT09IGlkKSB7XHJcbiAgICAgICAgICAgIF9wYXRjaGVzLnB1c2gocGF0Y2gpO1xyXG4gICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgfVxyXG5cclxuICAgcmV0dXJuIF9wYXRjaGVzO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1bnBhdGNoQWxsKGNhbGxlcjogc3RyaW5nKTogdm9pZCB7XHJcbiAgIGNvbnN0IHBhdGNoZXMgPSBnZXRQYXRjaGVzQnlDYWxsZXIoY2FsbGVyKTtcclxuICAgaWYgKCFwYXRjaGVzLmxlbmd0aCkgcmV0dXJuO1xyXG5cclxuICAgZm9yIChjb25zdCBwYXRjaCBvZiBwYXRjaGVzKSB7XHJcbiAgICAgIHBhdGNoLnVucGF0Y2goKTtcclxuICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBvdmVycmlkZShwYXRjaDogUGF0Y2gpIHtcclxuICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgICAhcGF0Y2g/LnBhdGNoZXM/LmJlZm9yZS5sZW5ndGggJiZcclxuICAgICAgICAgIXBhdGNoPy5wYXRjaGVzPy5hZnRlci5sZW5ndGggJiZcclxuICAgICAgICAgIXBhdGNoPy5wYXRjaGVzPy5pbnN0ZWFkLmxlbmd0aCAmJlxyXG4gICAgICAgICAhcGF0Y2hlcy5maW5kKHAgPT4gcC5tZGwgPT09IHBhdGNoLm1kbCAmJiBwLmZ1bmMgPT09IHBhdGNoLmZ1bmMpXHJcbiAgICAgICkge1xyXG4gICAgICAgICBwYXRjaC51bnBhdGNoKCk7XHJcbiAgICAgICAgIHJldHVybiBuZXcudGFyZ2V0ID8gbmV3IChwYXRjaC5vcmlnaW5hbCBhcyBDb25zdHJ1Y3RvcikoLi4uYXJndW1lbnRzIGFzIGFueSBhcyBbXSkgOiBwYXRjaC5vcmlnaW5hbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgcmVzO1xyXG4gICAgICBsZXQgYXJncyA9IGFyZ3VtZW50cyBhcyBhbnk7XHJcblxyXG4gICAgICBjb25zdCBiZWZvcmUgPSBwYXRjaC5wYXRjaGVzLmJlZm9yZTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiZWZvcmUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBiZWZvcmVbaV07XHJcbiAgICAgICAgIGlmICghaW5zdGFuY2UpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgdGVtcCA9IGluc3RhbmNlLmNhbGxiYWNrKHRoaXMsIGFyZ3MsIHBhdGNoLm9yaWdpbmFsLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0ZW1wKSkgYXJncyA9IHRlbXA7XHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZS5vbmNlKSBpbnN0YW5jZS51bnBhdGNoKCk7XHJcbiAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIExvZ2dlci5lcnJvcihgQ291bGQgbm90IGZpcmUgYmVmb3JlIHBhdGNoIGZvciAke3BhdGNoLmZ1bmN9IG9mICR7aW5zdGFuY2UuY2FsbGVyfWAsIGVycm9yKTtcclxuICAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBpbnN0ZWFkID0gcGF0Y2gucGF0Y2hlcy5pbnN0ZWFkO1xyXG4gICAgICBpZiAoIWluc3RlYWQubGVuZ3RoKSB7XHJcbiAgICAgICAgIGlmIChuZXcudGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHJlcyA9IG5ldyAocGF0Y2gub3JpZ2luYWwgYXMgQ29uc3RydWN0b3IpKC4uLmFyZ3MgYXMgYW55IGFzIFtdKTtcclxuICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzID0gcGF0Y2gub3JpZ2luYWwuYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnN0ZWFkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGVhZFtpXTtcclxuICAgICAgICAgICAgaWYgKCFpbnN0YW5jZSkgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICBjb25zdCByZXQgPSBpbnN0YW5jZS5jYWxsYmFjayh0aGlzLCBhcmdzLCBwYXRjaC5vcmlnaW5hbC5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXQgIT09ICd1bmRlZmluZWQnKSByZXMgPSByZXQ7XHJcbiAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5vbmNlKSBpbnN0YW5jZS51bnBhdGNoKCk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgIExvZ2dlci5lcnJvcihgQ291bGQgbm90IGZpcmUgaW5zdGVhZCBwYXRjaCBmb3IgJHtwYXRjaC5mdW5jfSBvZiAke2luc3RhbmNlLmNhbGxlcn1gLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBhZnRlciA9IHBhdGNoLnBhdGNoZXMuYWZ0ZXI7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWZ0ZXIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBhZnRlcltpXTtcclxuICAgICAgICAgaWYgKCFpbnN0YW5jZSkgY29udGludWU7XHJcblxyXG4gICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXQgPSBpbnN0YW5jZS5jYWxsYmFjayh0aGlzLCBhcmdzLCByZXMsIHJldCA9PiAocmVzID0gcmV0KSk7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmV0ICE9PSAndW5kZWZpbmVkJykgcmVzID0gcmV0O1xyXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2Uub25jZSkgaW5zdGFuY2UudW5wYXRjaCgpO1xyXG4gICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBMb2dnZXIuZXJyb3IoYENvdWxkIG5vdCBmaXJlIGFmdGVyIHBhdGNoIGZvciAke3BhdGNoLmZ1bmN9IG9mICR7aW5zdGFuY2UuY2FsbGVyfWAsIGVycm9yKTtcclxuICAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcmVzO1xyXG4gICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBwdXNoKG1kbDogUmVjb3JkPHN0cmluZywgYW55PiB8IEZ1bmN0aW9uLCBmdW5jOiBzdHJpbmcsIHR5cGUgPSBUeXBlLkFmdGVyKTogUGF0Y2gge1xyXG4gICBjb25zdCBwYXRjaCA9IHtcclxuICAgICAgbWRsLFxyXG4gICAgICBmdW5jLFxyXG4gICAgICBpZDogcGF0Y2hlcz8uW3R5cGVdPy5sZW5ndGggPz8gMCxcclxuICAgICAgb3JpZ2luYWw6IG1kbFtmdW5jXSxcclxuICAgICAgdW5wYXRjaDogKCkgPT4ge1xyXG4gICAgICAgICBwYXRjaC5tZGxbcGF0Y2guZnVuY10gPSBwYXRjaC5vcmlnaW5hbDtcclxuICAgICAgICAgcGF0Y2gucGF0Y2hlcyA9IHtcclxuICAgICAgICAgICAgYmVmb3JlOiBbXSxcclxuICAgICAgICAgICAgYWZ0ZXI6IFtdLFxyXG4gICAgICAgICAgICBpbnN0ZWFkOiBbXVxyXG4gICAgICAgICB9O1xyXG4gICAgICB9LFxyXG4gICAgICBwYXRjaGVzOiB7XHJcbiAgICAgICAgIGJlZm9yZTogW10sXHJcbiAgICAgICAgIGFmdGVyOiBbXSxcclxuICAgICAgICAgaW5zdGVhZDogW11cclxuICAgICAgfVxyXG4gICB9O1xyXG5cclxuXHJcbiAgIGNvbnN0IHBhdGNoZWQgPSBvdmVycmlkZShwYXRjaCk7XHJcbiAgIG1kbFtmdW5jXSA9IHBhdGNoZWQ7XHJcblxyXG4gICBjb25zdCBkZXNjcmlwdG9ycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHBhdGNoLm9yaWdpbmFsKTtcclxuICAgZGVsZXRlIGRlc2NyaXB0b3JzLmxlbmd0aDtcclxuXHJcbiAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1kbFtmdW5jXSwge1xyXG4gICAgICAuLi5kZXNjcmlwdG9ycyxcclxuICAgICAgdG9TdHJpbmc6IHtcclxuICAgICAgICAgdmFsdWU6ICgpID0+IHBhdGNoLm9yaWdpbmFsLnRvU3RyaW5nKCksXHJcbiAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcclxuICAgICAgfSxcclxuICAgICAgX19vcmlnaW5hbDoge1xyXG4gICAgICAgICB2YWx1ZTogcGF0Y2gub3JpZ2luYWwsXHJcbiAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcclxuICAgICAgfVxyXG4gICB9KTtcclxuXHJcbiAgIHBhdGNoZXMucHVzaChwYXRjaCk7XHJcbiAgIHJldHVybiBwYXRjaDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0KG1kbDogUmVjb3JkPHN0cmluZywgYW55PiB8IEZ1bmN0aW9uLCBmdW5jOiBzdHJpbmcsIHR5cGUgPSBUeXBlLkFmdGVyKSB7XHJcbiAgIGNvbnN0IHBhdGNoID0gcGF0Y2hlcy5maW5kKHAgPT4gcC5tZGwgPT09IG1kbCAmJiBwLmZ1bmMgPT09IGZ1bmMpO1xyXG4gICBpZiAocGF0Y2gpIHJldHVybiBwYXRjaDtcclxuXHJcbiAgIHJldHVybiBwdXNoKG1kbCwgZnVuYywgdHlwZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhdGNoPEYgZXh0ZW5kcyBGbj4oY2FsbGVyOiBzdHJpbmcsIG1kbDogUmVjb3JkPHN0cmluZywgYW55PiB8IEZ1bmN0aW9uLCBmdW5jOiBzdHJpbmcsIGNhbGxiYWNrOiBCZWZvcmVPdmVyd3JpdGU8Rj4gfCBJbnN0ZWFkT3ZlcndyaXRlPEY+IHwgQWZ0ZXJPdmVyd3JpdGU8Rj4sIHR5cGUgPSBUeXBlLkFmdGVyLCBvbmNlID0gZmFsc2UpOiAoKSA9PiB2b2lkIHtcclxuICAgaWYgKCFjYWxsZXIgfHwgdHlwZW9mIGNhbGxlciAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZmlyc3QgYXJndW1lbnQgXCJjYWxsZXJcIiBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nJyk7XHJcbiAgIH0gZWxzZSBpZiAoIW1kbCB8fCAhWydmdW5jdGlvbicsICdvYmplY3QnXS5pbmNsdWRlcyh0eXBlb2YgbWRsKSkge1xyXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdzZWNvbmQgYXJndW1lbnQgXCJtZGxcIiBtdXN0IGJlIG9mIHR5cGUgZnVuY3Rpb24gb3Igb2JqZWN0Jyk7XHJcbiAgIH0gZWxzZSBpZiAoIWZ1bmMgfHwgdHlwZW9mIGZ1bmMgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3RoaXJkIGFyZ3VtZW50IFwiZnVuY1wiIG11c3QgYmUgb2YgdHlwZSBzdHJpbmcnKTtcclxuICAgfSBlbHNlIGlmICghY2FsbGJhY2sgfHwgdHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ZvdXJ0aCBhcmd1bWVudCBcImNhbGxiYWNrXCIgbXVzdCBiZSBvZiB0eXBlIGZ1bmN0aW9uJyk7XHJcbiAgIH0gZWxzZSBpZiAoIXR5cGUgfHwgdHlwZW9mIHR5cGUgIT09ICdzdHJpbmcnIHx8ICFbJ2FmdGVyJywgJ2JlZm9yZScsICdpbnN0ZWFkJ10uaW5jbHVkZXModHlwZSkpIHtcclxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZmlmdGggYXJndW1lbnQgXCJ0eXBlXCIgbXVzdCBiZSBvZiB0eXBlIHN0cmluZyBhbmQgYW55IG9mIHRoZSB0aHJlZTogYWZ0ZXIsIGJlZm9yZSwgaW5zdGVhZCcpO1xyXG4gICB9IGVsc2UgaWYgKHR5cGVvZiBtZGxbZnVuY10gPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihgZnVuY3Rpb24gJHtmdW5jfSBkb2VzIG5vdCBleGlzdCBvbiB0aGUgc2Vjb25kIGFyZ3VtZW50IChvYmplY3Qgb3IgZnVuY3Rpb24pYCk7XHJcbiAgIH1cclxuXHJcbiAgIGNvbnN0IGN1cnJlbnQgPSBnZXQobWRsLCBmdW5jLCB0eXBlKTtcclxuXHJcbiAgIGNvbnN0IHBhdGNoID0ge1xyXG4gICAgICBjYWxsZXIsXHJcbiAgICAgIG9uY2UsXHJcbiAgICAgIHR5cGUsXHJcbiAgICAgIGlkOiBjdXJyZW50LnBhdGNoZXM/Llt0eXBlXT8ubGVuZ3RoID8/IDAsXHJcbiAgICAgIGNhbGxiYWNrLFxyXG4gICAgICB1bnBhdGNoOiAoKSA9PiB7XHJcbiAgICAgICAgIC8vIFJlbW92ZSB0aGUgb3JpZ2luYWwgcGF0Y2ggdGhpcyBjYWxsYmFjayB3YXMgZnJvbVxyXG4gICAgICAgICBjb25zdCBpbmRpdmlkdWFsID0gY3VycmVudC5wYXRjaGVzPy5bdHlwZV0uZmluZEluZGV4KHAgPT4gcC5pZCA9PT0gcGF0Y2guaWQpO1xyXG4gICAgICAgICBpZiAofmluZGl2aWR1YWwpIGN1cnJlbnQucGF0Y2hlcz8uW3R5cGVdLnNwbGljZShpbmRpdmlkdWFsLCAxKTtcclxuXHJcbiAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgY3VycmVudC5wYXRjaGVzPy5iZWZvcmUubGVuZ3RoIHx8XHJcbiAgICAgICAgICAgIGN1cnJlbnQucGF0Y2hlcz8uYWZ0ZXIubGVuZ3RoIHx8XHJcbiAgICAgICAgICAgIGN1cnJlbnQucGF0Y2hlcz8uaW5zdGVhZC5sZW5ndGhcclxuICAgICAgICAgKSByZXR1cm47XHJcblxyXG4gICAgICAgICAvLyBJZiBubyBvdGhlciBwYXRjaGVzIG9uIHRoZSBtb2R1bGUgYXJlIHJlbWFpbmluZywgY29tcGxldGVseSByZW1vdmUgYWxsIHBhdGNoZXNcclxuICAgICAgICAgLy8gYW5kIHJlLWFzc2lnbiB0aGUgb3JpZ2luYWwgbW9kdWxlIHRvIGl0cyBvcmlnaW5hbCBwbGFjZS5cclxuICAgICAgICAgY29uc3QgbW9kdWxlID0gcGF0Y2hlcy5maW5kSW5kZXgocCA9PiBwLm1kbCA9PSBtZGwgJiYgcC5mdW5jID09IGZ1bmMpO1xyXG5cclxuICAgICAgICAgaWYgKCFtb2R1bGUpIHJldHVybjtcclxuICAgICAgICAgcGF0Y2hlc1ttb2R1bGVdPy51bnBhdGNoKCk7XHJcbiAgICAgICAgIHBhdGNoZXMuc3BsaWNlKG1vZHVsZSwgMSk7XHJcbiAgICAgIH1cclxuICAgfTtcclxuXHJcbiAgIGN1cnJlbnQucGF0Y2hlc1t0eXBlXSA/Pz0gW107XHJcbiAgIGN1cnJlbnQucGF0Y2hlc1t0eXBlXS5wdXNoKHBhdGNoKTtcclxuXHJcbiAgIHJldHVybiBwYXRjaC51bnBhdGNoO1xyXG59XHJcblxyXG5mdW5jdGlvbiBiZWZvcmU8XHJcbiAgIE0gZXh0ZW5kcyBSZWNvcmQ8UCwgRm4+LFxyXG4gICBQIGV4dGVuZHMgUHJvcE9mPE0+XHJcbj4oY2FsbGVyOiBzdHJpbmcsIG1kbDogTSwgZnVuYzogUCwgY2FsbGJhY2s6IEJlZm9yZU92ZXJ3cml0ZTxNW1BdPiwgb25jZTogYm9vbGVhbiA9IGZhbHNlKTogKCkgPT4gdm9pZCB7XHJcbiAgIHJldHVybiBwYXRjaChjYWxsZXIsIG1kbCwgZnVuYywgY2FsbGJhY2ssIFR5cGUuQmVmb3JlLCBvbmNlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5zdGVhZDxcclxuICAgTSBleHRlbmRzIFJlY29yZDxQLCBGbj4sXHJcbiAgIFAgZXh0ZW5kcyBQcm9wT2Y8TT5cclxuPihjYWxsZXI6IHN0cmluZywgbWRsOiBNLCBmdW5jOiBQLCBjYWxsYmFjazogSW5zdGVhZE92ZXJ3cml0ZTxNW1BdPiwgb25jZTogYm9vbGVhbiA9IGZhbHNlKTogKCkgPT4gdm9pZCB7XHJcbiAgIHJldHVybiBwYXRjaChjYWxsZXIsIG1kbCwgZnVuYywgY2FsbGJhY2ssIFR5cGUuSW5zdGVhZCwgb25jZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFmdGVyPFxyXG4gICBNIGV4dGVuZHMgUmVjb3JkPFAsIEZuPixcclxuICAgUCBleHRlbmRzIFByb3BPZjxNPlxyXG4+KGNhbGxlcjogc3RyaW5nLCBtZGw6IE0sIGZ1bmM6IFAsIGNhbGxiYWNrOiBBZnRlck92ZXJ3cml0ZTxNW1BdPiwgb25jZTogYm9vbGVhbiA9IGZhbHNlKTogKCkgPT4gdm9pZCB7XHJcbiAgIHJldHVybiBwYXRjaChjYWxsZXIsIG1kbCwgZnVuYywgY2FsbGJhY2ssIFR5cGUuQWZ0ZXIsIG9uY2UpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGUobmFtZTogc3RyaW5nKSB7XHJcbiAgIHJldHVybiB7XHJcbiAgICAgIGdldFBhdGNoZXNCeUNhbGxlcixcclxuICAgICAgYmVmb3JlPFxyXG4gICAgICAgICBNIGV4dGVuZHMgUmVjb3JkPFAsIEZuPixcclxuICAgICAgICAgUCBleHRlbmRzIFByb3BPZjxNPlxyXG4gICAgICA+KG1kbDogTSwgZnVuYzogUCwgY2FsbGJhY2s6IEJlZm9yZU92ZXJ3cml0ZTxNW1BdPiwgb25jZTogYm9vbGVhbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgIHJldHVybiBiZWZvcmUobmFtZSwgbWRsLCBmdW5jLCBjYWxsYmFjaywgb25jZSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGluc3RlYWQ8XHJcbiAgICAgICAgIE0gZXh0ZW5kcyBSZWNvcmQ8UCwgRm4+LFxyXG4gICAgICAgICBQIGV4dGVuZHMgUHJvcE9mPE0+XHJcbiAgICAgID4obWRsOiBNLCBmdW5jOiBQLCBjYWxsYmFjazogSW5zdGVhZE92ZXJ3cml0ZTxNW1BdPiwgb25jZTogYm9vbGVhbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgIHJldHVybiBpbnN0ZWFkKG5hbWUsIG1kbCwgZnVuYywgY2FsbGJhY2ssIG9uY2UpO1xyXG4gICAgICB9LFxyXG4gICAgICBhZnRlcjxcclxuICAgICAgICAgTSBleHRlbmRzIFJlY29yZDxQLCBGbj4sXHJcbiAgICAgICAgIFAgZXh0ZW5kcyBQcm9wT2Y8TT5cclxuICAgICAgPihtZGw6IE0sIGZ1bmM6IFAsIGNhbGxiYWNrOiBBZnRlck92ZXJ3cml0ZTxNW1BdPiwgb25jZTogYm9vbGVhbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgIHJldHVybiBhZnRlcihuYW1lLCBtZGwsIGZ1bmMsIGNhbGxiYWNrLCBvbmNlKTtcclxuICAgICAgfSxcclxuICAgICAgdW5wYXRjaEFsbDogKCkgPT4gdW5wYXRjaEFsbChuYW1lKSxcclxuICAgfTtcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICAgY3JlYXRlLFxyXG4gICBiZWZvcmUsXHJcbiAgIGluc3RlYWQsXHJcbiAgIGFmdGVyLFxyXG4gICB1bnBhdGNoQWxsLFxyXG4gICBwYXRjaGVzXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgIGNyZWF0ZSxcclxuICAgYmVmb3JlLFxyXG4gICBpbnN0ZWFkLFxyXG4gICBhZnRlcixcclxuICAgdW5wYXRjaEFsbCxcclxuICAgcGF0Y2hlc1xyXG59O1xyXG4iXSwibmFtZXMiOlsiY3JlYXRlIiwiYmVmb3JlIiwiaW5zdGVhZCIsImFmdGVyIiwidW5wYXRjaEFsbCIsInBhdGNoZXMiLCJUeXBlIiwiQmVmb3JlIiwiSW5zdGVhZCIsIkFmdGVyIiwiTG9nZ2VyIiwiY3JlYXRlTG9nZ2VyIiwiZ2V0UGF0Y2hlc0J5Q2FsbGVyIiwiaWQiLCJfcGF0Y2hlcyIsImVudHJ5Iiwic3RvcmUiLCJwYXRjaCIsImNhbGxlciIsInB1c2giLCJsZW5ndGgiLCJ1bnBhdGNoIiwibWRsIiwiZnVuYyIsImNhbGxiYWNrIiwidHlwZSIsIm9uY2UiLCJpbmNsdWRlcyIsIlJlZmVyZW5jZUVycm9yIiwiVHlwZUVycm9yIiwiY3VycmVudCIsImdldCIsImZpbmQiLCJwIiwib3JpZ2luYWwiLCJwYXRjaGVkIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJyZXMiLCJhcmdzIiwiaSIsImluc3RhbmNlIiwidGVtcCIsImJpbmQiLCJBcnJheSIsImlzQXJyYXkiLCJlcnJvciIsInJldCIsImRlc2NyaXB0b3JzIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJ0b1N0cmluZyIsInZhbHVlIiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsIl9fb3JpZ2luYWwiLCJpbmRpdmlkdWFsIiwiZmluZEluZGV4Iiwic3BsaWNlIiwibW9kdWxlIiwibmFtZSJdLCJtYXBwaW5ncyI6IkFBQUEsaUJBbUNPLENBSU4sK0pBOFBFQSxNQUFNLEtBQU5BLENBQU0sQ0FDTkMsTUFBTSxLQUFOQSxDQUFNLENBQ05DLE9BQU8sS0FBUEEsQ0FBTyxDQUNQQyxLQUFLLEtBQUxBLENBQUssQ0FDTEMsVUFBVSxLQUFWQSxDQUFVLENBQ1ZDLE9BQU8sS0FBUEEsQ0FBTyxDQUdWLE9BT0UsS0FQRixDQU9FLG1CQXBUMkIsd0JBQWdCLFlBbUNqQ0MsQ0FBSSxFQUFKQSxDQUFJLENBQ2JDLE1BQU0sQ0FBRyxRQUFRLENBRFJELENBQUksQ0FFYkUsT0FBTyxDQUFHLFNBQVMsQ0FGVkYsQ0FBSSxDQUdiRyxLQUFLLENBQUcsT0FBTyxFQUhOSCxDQUFJLEdBQUpBLENBQUksS0FNaEIsT0FBTUQsQ0FBTyxDQUFZLEVBQUUsQ0FDckJLLENBQU0sQ0FBR0MsR0FBQUEsQ0FBWSxhQUFBLEVBQUMsU0FBUyxDQUFDLEFBRFYsQUFHNUIsVUFBU0MsQ0FBa0IsQ0FBQ0MsQ0FBVSxDQUFFLENBQ3JDLEdBQUksQ0FEcUJBLENBQVUsQUFDNUIsQ0FBRSxNQUFPLEVBQUUsQUFBQyxBQUNuQixLQUFNQyxDQUFRLENBQWMsRUFBRSxBQUFDLEFBRS9CLEtBQUssSUFBTUMsQ0FBSyxJQUFJVixDQUFPLENBQUUsQ0FDMUIsSUFBTVcsQ0FBSyxDQUFHLElBQ1JELENBQUssQ0FBQ1YsT0FBTyxDQUFDSixNQUFNLElBQ3BCYyxDQUFLLENBQUNWLE9BQU8sQ0FBQ0gsT0FBTyxJQUNyQmEsQ0FBSyxDQUFDVixPQUFPLENBQUNGLEtBQUssQ0FDeEIsQUFBQyxBQUVGLEtBQUssSUFBTWMsQ0FBSyxJQUFJRCxDQUFLLENBQ2xCQyxDQUFLLENBQUNDLE1BQU0sR0FaR0wsQ0FBVSxFQWExQkMsQ0FBUSxDQUFDSyxJQUFJLENBQUNGLENBQUssQ0FB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