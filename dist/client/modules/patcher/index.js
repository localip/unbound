"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),!function _export(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(exports,{Type:()=>e,create:()=>create,before:()=>before,instead:()=>instead,after:()=>after,unpatchAll:()=>unpatchAll,patches:()=>n,default:()=>a});const t=require("../../../common/logger");require("./menu"),function(e){e.Before="before",e.Instead="instead",e.After="after"}(e||(e={}));const n=[],r=(0,t.createLogger)("Patcher");function getPatchesByCaller(e){if(!e)return[];let t=[];for(let r of n){let a=[...r.patches.before,...r.patches.instead,...r.patches.after];for(let l of a)l.caller===e&&t.push(l)}return t}function unpatchAll(e){let t=getPatchesByCaller(e);if(t.length)for(let n of t)n.unpatch()}function patch(t,a,l,c,i=e.After,o=!1){if(t&&"string"==typeof t){if(a&&["function","object"].includes(typeof a)){if(l&&"string"==typeof l){if(c&&"function"==typeof c){if(i&&"string"==typeof i&&["after","before","instead"].includes(i)){if(void 0===a[l])throw ReferenceError(`function ${l} does not exist on the second argument (object or function)`)}else throw TypeError('fifth argument "type" must be of type string and any of the three: after, before, instead')}else throw TypeError('fourth argument "callback" must be of type function')}else throw TypeError('third argument "func" must be of type string')}else throw TypeError('second argument "mdl" must be of type function or object')}else throw TypeError('first argument "caller" must be of type string');let f=function get(e,t){let a=n.find(n=>n.mdl===e&&n.func===t);return a||function push(e,t){var a;let l={mdl:e,func:t,original:e[t],unpatch(){l.mdl[l.func]=l.original,l.patches={before:[],after:[],instead:[]}},patches:{before:[],after:[],instead:[]}},c=(a=l,function(){if(!a?.patches?.before.length&&!a?.patches?.after.length&&!a?.patches?.instead.length&&!n.find(e=>e.mdl===a.mdl&&e.func===a.func))return a.unpatch(),new.target?new a.original(...arguments):a.original.apply(this,arguments);let e,t=arguments,l=a.patches.before;for(let c=0;c<l.length;c++){let i=l[c];if(i)try{let o=i.callback(this,t,a.original.bind(this));Array.isArray(o)&&(t=o),i.once&&i.unpatch()}catch(f){r.error(`Could not fire before patch for ${a.func} of ${i.caller}`,f)}}let h=a.patches.instead;if(h.length)for(let s=0;s<h.length;s++){let u=h[s];if(u)try{let p=u.callback(this,t,a.original.bind(this));void 0!==p&&(e=p),u.once&&u.unpatch()}catch(d){r.error(`Could not fire instead patch for ${a.func} of ${u.caller}`,d)}}else e=new.target?new a.original(...t):a.original.apply(this,t);let g=a.patches.after;for(let b=0;b<g.length;b++){let y=g[b];if(y)try{let $=y.callback(this,t,e,t=>e=t);void 0!==$&&(e=$),y.once&&y.unpatch()}catch(w){r.error(`Could not fire after patch for ${a.func} of ${y.caller}`,w)}}return e});e[t]=c;let i=Object.getOwnPropertyDescriptors(l.original);return delete i.length,Object.defineProperties(e[t],{...i,toString:{value:()=>l.original.toString(),configurable:!0,enumerable:!1},__original:{value:l.original,configurable:!0,enumerable:!1}}),n.push(l),l}(e,t)}(a,l),h={caller:t,once:o,type:i,id:f.patches?.[i]?.length??0,callback:c,unpatch(){let e=f.patches?.[i].findIndex(e=>e.id===h.id);if(~e&&f.patches?.[i].splice(e,1),f.patches?.before.length||f.patches?.after.length||f.patches?.instead.length)return;let t=n.findIndex(e=>e.mdl==a&&e.func==l);t&&(n[t]?.unpatch(),n.splice(t,1))}};return f.patches[i]??=[],f.patches[i].push(h),h.unpatch}function before(t,n,r,a,l=!1){return patch(t,n,r,a,e.Before,l)}function instead(t,n,r,a,l=!1){return patch(t,n,r,a,e.Instead,l)}function after(t,n,r,a,l=!1){return patch(t,n,r,a,e.After,l)}function create(e){return{getPatchesByCaller,before:(t,n,r,a=!1)=>before(e,t,n,r,a),instead:(t,n,r,a=!1)=>instead(e,t,n,r,a),after:(t,n,r,a=!1)=>after(e,t,n,r,a),unpatchAll:()=>unpatchAll(e)}}const a={create,before,instead,after,unpatchAll,patches:n}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jbGllbnQvbW9kdWxlcy9wYXRjaGVyL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUxvZ2dlciB9IGZyb20gJ0Bjb21tb24vbG9nZ2VyJztcclxuXHJcbmltcG9ydCAnLi9tZW51JztcclxuXHJcbnR5cGUgQXJndW1lbnRzPFQgZXh0ZW5kcyBGbj4gPSBUIGV4dGVuZHMgKC4uLmFyZ3M6IGluZmVyIFApID0+IGFueSA/IFAgOiBhbnlbXTtcclxuXHJcbmV4cG9ydCB0eXBlIEJlZm9yZU92ZXJ3cml0ZTxGIGV4dGVuZHMgRm4+ID0gKGNvbnRleHQ/OiBhbnksIGFyZ3M/OiBBcmd1bWVudHM8Rj4sIG9yaWdpbmFsPzogRikgPT4gQXJndW1lbnRzPEY+IHwgdm9pZDtcclxuZXhwb3J0IHR5cGUgSW5zdGVhZE92ZXJ3cml0ZTxGIGV4dGVuZHMgRm4+ID0gKGNvbnRleHQ/OiBhbnksIGFyZ3M/OiBBcmd1bWVudHM8Rj4sIG9yaWdpbmFsPzogRikgPT4gUmV0dXJuVHlwZTxGPiB8IHZvaWQ7XHJcbmV4cG9ydCB0eXBlIEFmdGVyT3ZlcndyaXRlPEYgZXh0ZW5kcyBGbj4gPSAoY29udGV4dD86IGFueSwgYXJncz86IEFyZ3VtZW50czxGPiwgcmVzdWx0PzogUmV0dXJuVHlwZTxGPikgPT4gUmV0dXJuVHlwZTxGPiB8IHZvaWQ7XHJcblxyXG5leHBvcnQgdHlwZSBQcm9wT2Y8TT4gPSB7XHJcbiAgIFtLIGluIGtleW9mIE1dOiBNW0tdIGV4dGVuZHMgRm4gPyBFeHRyYWN0PEssIHN0cmluZz4gOiBuZXZlclxyXG59W2tleW9mIE1dO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQYXRjaCB7XHJcbiAgIG1kbDogUmVjb3JkPHN0cmluZywgYW55PiB8IEZ1bmN0aW9uO1xyXG4gICBmdW5jOiBzdHJpbmc7XHJcbiAgIG9yaWdpbmFsOiBGdW5jdGlvbjtcclxuICAgdW5wYXRjaDogKCkgPT4gdm9pZDtcclxuICAgcGF0Y2hlczoge1xyXG4gICAgICBiZWZvcmU6IFBhdGNoZXJbXTtcclxuICAgICAgYWZ0ZXI6IFBhdGNoZXJbXTtcclxuICAgICAgaW5zdGVhZDogUGF0Y2hlcltdO1xyXG4gICB9O1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFBhdGNoZXIge1xyXG4gICBjYWxsZXI6IHN0cmluZztcclxuICAgb25jZTogYm9vbGVhbjtcclxuICAgdHlwZTogVHlwZTtcclxuICAgaWQ6IG51bWJlcjtcclxuICAgY2FsbGJhY2s6IGFueTtcclxuICAgdW5wYXRjaDogKCkgPT4gdm9pZDtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgQ29uc3RydWN0b3IgPSAobmV3ICgpID0+IGFueSk7XHJcblxyXG5leHBvcnQgZW51bSBUeXBlIHtcclxuICAgQmVmb3JlID0gJ2JlZm9yZScsXHJcbiAgIEluc3RlYWQgPSAnaW5zdGVhZCcsXHJcbiAgIEFmdGVyID0gJ2FmdGVyJyxcclxufVxyXG5cclxuY29uc3QgcGF0Y2hlczogUGF0Y2hbXSA9IFtdO1xyXG5jb25zdCBMb2dnZXIgPSBjcmVhdGVMb2dnZXIoJ1BhdGNoZXInKTtcclxuXHJcbmZ1bmN0aW9uIGdldFBhdGNoZXNCeUNhbGxlcihpZDogc3RyaW5nKSB7XHJcbiAgIGlmICghaWQpIHJldHVybiBbXTtcclxuICAgY29uc3QgX3BhdGNoZXM6IFBhdGNoZXJbXSA9IFtdO1xyXG5cclxuICAgZm9yIChjb25zdCBlbnRyeSBvZiBwYXRjaGVzKSB7XHJcbiAgICAgIGNvbnN0IHN0b3JlID0gW1xyXG4gICAgICAgICAuLi5lbnRyeS5wYXRjaGVzLmJlZm9yZSxcclxuICAgICAgICAgLi4uZW50cnkucGF0Y2hlcy5pbnN0ZWFkLFxyXG4gICAgICAgICAuLi5lbnRyeS5wYXRjaGVzLmFmdGVyXHJcbiAgICAgIF07XHJcblxyXG4gICAgICBmb3IgKGNvbnN0IHBhdGNoIG9mIHN0b3JlKSB7XHJcbiAgICAgICAgIGlmIChwYXRjaC5jYWxsZXIgPT09IGlkKSB7XHJcbiAgICAgICAgICAgIF9wYXRjaGVzLnB1c2gocGF0Y2gpO1xyXG4gICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgfVxyXG5cclxuICAgcmV0dXJuIF9wYXRjaGVzO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1bnBhdGNoQWxsKGNhbGxlcjogc3RyaW5nKTogdm9pZCB7XHJcbiAgIGNvbnN0IHBhdGNoZXMgPSBnZXRQYXRjaGVzQnlDYWxsZXIoY2FsbGVyKTtcclxuICAgaWYgKCFwYXRjaGVzLmxlbmd0aCkgcmV0dXJuO1xyXG5cclxuICAgZm9yIChjb25zdCBwYXRjaCBvZiBwYXRjaGVzKSB7XHJcbiAgICAgIHBhdGNoLnVucGF0Y2goKTtcclxuICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBvdmVycmlkZShwYXRjaDogUGF0Y2gpIHtcclxuICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgICAhcGF0Y2g/LnBhdGNoZXM/LmJlZm9yZS5sZW5ndGggJiZcclxuICAgICAgICAgIXBhdGNoPy5wYXRjaGVzPy5hZnRlci5sZW5ndGggJiZcclxuICAgICAgICAgIXBhdGNoPy5wYXRjaGVzPy5pbnN0ZWFkLmxlbmd0aCAmJlxyXG4gICAgICAgICAhcGF0Y2hlcy5maW5kKHAgPT4gcC5tZGwgPT09IHBhdGNoLm1kbCAmJiBwLmZ1bmMgPT09IHBhdGNoLmZ1bmMpXHJcbiAgICAgICkge1xyXG4gICAgICAgICBwYXRjaC51bnBhdGNoKCk7XHJcbiAgICAgICAgIHJldHVybiBuZXcudGFyZ2V0ID8gbmV3IChwYXRjaC5vcmlnaW5hbCBhcyBDb25zdHJ1Y3RvcikoLi4uYXJndW1lbnRzIGFzIGFueSBhcyBbXSkgOiBwYXRjaC5vcmlnaW5hbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBsZXQgcmVzO1xyXG4gICAgICBsZXQgYXJncyA9IGFyZ3VtZW50cyBhcyBhbnk7XHJcblxyXG4gICAgICBjb25zdCBiZWZvcmUgPSBwYXRjaC5wYXRjaGVzLmJlZm9yZTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiZWZvcmUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBiZWZvcmVbaV07XHJcbiAgICAgICAgIGlmICghaW5zdGFuY2UpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgdGVtcCA9IGluc3RhbmNlLmNhbGxiYWNrKHRoaXMsIGFyZ3MsIHBhdGNoLm9yaWdpbmFsLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0ZW1wKSkgYXJncyA9IHRlbXA7XHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZS5vbmNlKSBpbnN0YW5jZS51bnBhdGNoKCk7XHJcbiAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIExvZ2dlci5lcnJvcihgQ291bGQgbm90IGZpcmUgYmVmb3JlIHBhdGNoIGZvciAke3BhdGNoLmZ1bmN9IG9mICR7aW5zdGFuY2UuY2FsbGVyfWAsIGVycm9yKTtcclxuICAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBpbnN0ZWFkID0gcGF0Y2gucGF0Y2hlcy5pbnN0ZWFkO1xyXG4gICAgICBpZiAoIWluc3RlYWQubGVuZ3RoKSB7XHJcbiAgICAgICAgIGlmIChuZXcudGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHJlcyA9IG5ldyAocGF0Y2gub3JpZ2luYWwgYXMgQ29uc3RydWN0b3IpKC4uLmFyZ3MgYXMgYW55IGFzIFtdKTtcclxuICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzID0gcGF0Y2gub3JpZ2luYWwuYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnN0ZWFkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGVhZFtpXTtcclxuICAgICAgICAgICAgaWYgKCFpbnN0YW5jZSkgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICBjb25zdCByZXQgPSBpbnN0YW5jZS5jYWxsYmFjayh0aGlzLCBhcmdzLCBwYXRjaC5vcmlnaW5hbC5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXQgIT09ICd1bmRlZmluZWQnKSByZXMgPSByZXQ7XHJcbiAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5vbmNlKSBpbnN0YW5jZS51bnBhdGNoKCk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgIExvZ2dlci5lcnJvcihgQ291bGQgbm90IGZpcmUgaW5zdGVhZCBwYXRjaCBmb3IgJHtwYXRjaC5mdW5jfSBvZiAke2luc3RhbmNlLmNhbGxlcn1gLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBhZnRlciA9IHBhdGNoLnBhdGNoZXMuYWZ0ZXI7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWZ0ZXIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBhZnRlcltpXTtcclxuICAgICAgICAgaWYgKCFpbnN0YW5jZSkgY29udGludWU7XHJcblxyXG4gICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXQgPSBpbnN0YW5jZS5jYWxsYmFjayh0aGlzLCBhcmdzLCByZXMsIHJldCA9PiAocmVzID0gcmV0KSk7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmV0ICE9PSAndW5kZWZpbmVkJykgcmVzID0gcmV0O1xyXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2Uub25jZSkgaW5zdGFuY2UudW5wYXRjaCgpO1xyXG4gICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBMb2dnZXIuZXJyb3IoYENvdWxkIG5vdCBmaXJlIGFmdGVyIHBhdGNoIGZvciAke3BhdGNoLmZ1bmN9IG9mICR7aW5zdGFuY2UuY2FsbGVyfWAsIGVycm9yKTtcclxuICAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcmVzO1xyXG4gICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBwdXNoKG1kbDogUmVjb3JkPHN0cmluZywgYW55PiB8IEZ1bmN0aW9uLCBmdW5jOiBzdHJpbmcpOiBQYXRjaCB7XHJcbiAgIGNvbnN0IHBhdGNoID0ge1xyXG4gICAgICBtZGwsXHJcbiAgICAgIGZ1bmMsXHJcbiAgICAgIG9yaWdpbmFsOiBtZGxbZnVuY10sXHJcbiAgICAgIHVucGF0Y2g6ICgpID0+IHtcclxuICAgICAgICAgcGF0Y2gubWRsW3BhdGNoLmZ1bmNdID0gcGF0Y2gub3JpZ2luYWw7XHJcbiAgICAgICAgIHBhdGNoLnBhdGNoZXMgPSB7XHJcbiAgICAgICAgICAgIGJlZm9yZTogW10sXHJcbiAgICAgICAgICAgIGFmdGVyOiBbXSxcclxuICAgICAgICAgICAgaW5zdGVhZDogW11cclxuICAgICAgICAgfTtcclxuICAgICAgfSxcclxuICAgICAgcGF0Y2hlczoge1xyXG4gICAgICAgICBiZWZvcmU6IFtdLFxyXG4gICAgICAgICBhZnRlcjogW10sXHJcbiAgICAgICAgIGluc3RlYWQ6IFtdXHJcbiAgICAgIH1cclxuICAgfTtcclxuXHJcblxyXG4gICBjb25zdCBwYXRjaGVkID0gb3ZlcnJpZGUocGF0Y2gpO1xyXG4gICBtZGxbZnVuY10gPSBwYXRjaGVkO1xyXG5cclxuICAgY29uc3QgZGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhwYXRjaC5vcmlnaW5hbCk7XHJcbiAgIGRlbGV0ZSBkZXNjcmlwdG9ycy5sZW5ndGg7XHJcblxyXG4gICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhtZGxbZnVuY10sIHtcclxuICAgICAgLi4uZGVzY3JpcHRvcnMsXHJcbiAgICAgIHRvU3RyaW5nOiB7XHJcbiAgICAgICAgIHZhbHVlOiAoKSA9PiBwYXRjaC5vcmlnaW5hbC50b1N0cmluZygpLFxyXG4gICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlXHJcbiAgICAgIH0sXHJcbiAgICAgIF9fb3JpZ2luYWw6IHtcclxuICAgICAgICAgdmFsdWU6IHBhdGNoLm9yaWdpbmFsLFxyXG4gICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlXHJcbiAgICAgIH1cclxuICAgfSk7XHJcblxyXG4gICBwYXRjaGVzLnB1c2gocGF0Y2gpO1xyXG4gICByZXR1cm4gcGF0Y2g7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldChtZGw6IFJlY29yZDxzdHJpbmcsIGFueT4gfCBGdW5jdGlvbiwgZnVuYzogc3RyaW5nKSB7XHJcbiAgIGNvbnN0IHBhdGNoID0gcGF0Y2hlcy5maW5kKHAgPT4gcC5tZGwgPT09IG1kbCAmJiBwLmZ1bmMgPT09IGZ1bmMpO1xyXG4gICBpZiAocGF0Y2gpIHJldHVybiBwYXRjaDtcclxuXHJcbiAgIHJldHVybiBwdXNoKG1kbCwgZnVuYyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhdGNoPEYgZXh0ZW5kcyBGbj4oY2FsbGVyOiBzdHJpbmcsIG1kbDogUmVjb3JkPHN0cmluZywgYW55PiB8IEZ1bmN0aW9uLCBmdW5jOiBzdHJpbmcsIGNhbGxiYWNrOiBCZWZvcmVPdmVyd3JpdGU8Rj4gfCBJbnN0ZWFkT3ZlcndyaXRlPEY+IHwgQWZ0ZXJPdmVyd3JpdGU8Rj4sIHR5cGUgPSBUeXBlLkFmdGVyLCBvbmNlID0gZmFsc2UpOiAoKSA9PiB2b2lkIHtcclxuICAgaWYgKCFjYWxsZXIgfHwgdHlwZW9mIGNhbGxlciAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZmlyc3QgYXJndW1lbnQgXCJjYWxsZXJcIiBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nJyk7XHJcbiAgIH0gZWxzZSBpZiAoIW1kbCB8fCAhWydmdW5jdGlvbicsICdvYmplY3QnXS5pbmNsdWRlcyh0eXBlb2YgbWRsKSkge1xyXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdzZWNvbmQgYXJndW1lbnQgXCJtZGxcIiBtdXN0IGJlIG9mIHR5cGUgZnVuY3Rpb24gb3Igb2JqZWN0Jyk7XHJcbiAgIH0gZWxzZSBpZiAoIWZ1bmMgfHwgdHlwZW9mIGZ1bmMgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3RoaXJkIGFyZ3VtZW50IFwiZnVuY1wiIG11c3QgYmUgb2YgdHlwZSBzdHJpbmcnKTtcclxuICAgfSBlbHNlIGlmICghY2FsbGJhY2sgfHwgdHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ZvdXJ0aCBhcmd1bWVudCBcImNhbGxiYWNrXCIgbXVzdCBiZSBvZiB0eXBlIGZ1bmN0aW9uJyk7XHJcbiAgIH0gZWxzZSBpZiAoIXR5cGUgfHwgdHlwZW9mIHR5cGUgIT09ICdzdHJpbmcnIHx8ICFbJ2FmdGVyJywgJ2JlZm9yZScsICdpbnN0ZWFkJ10uaW5jbHVkZXModHlwZSkpIHtcclxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZmlmdGggYXJndW1lbnQgXCJ0eXBlXCIgbXVzdCBiZSBvZiB0eXBlIHN0cmluZyBhbmQgYW55IG9mIHRoZSB0aHJlZTogYWZ0ZXIsIGJlZm9yZSwgaW5zdGVhZCcpO1xyXG4gICB9IGVsc2UgaWYgKHR5cGVvZiBtZGxbZnVuY10gPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihgZnVuY3Rpb24gJHtmdW5jfSBkb2VzIG5vdCBleGlzdCBvbiB0aGUgc2Vjb25kIGFyZ3VtZW50IChvYmplY3Qgb3IgZnVuY3Rpb24pYCk7XHJcbiAgIH1cclxuXHJcbiAgIGNvbnN0IGN1cnJlbnQgPSBnZXQobWRsLCBmdW5jKTtcclxuXHJcbiAgIGNvbnN0IHBhdGNoID0ge1xyXG4gICAgICBjYWxsZXIsXHJcbiAgICAgIG9uY2UsXHJcbiAgICAgIHR5cGUsXHJcbiAgICAgIGlkOiBjdXJyZW50LnBhdGNoZXM/Llt0eXBlXT8ubGVuZ3RoID8/IDAsXHJcbiAgICAgIGNhbGxiYWNrLFxyXG4gICAgICB1bnBhdGNoOiAoKSA9PiB7XHJcbiAgICAgICAgIC8vIFJlbW92ZSB0aGUgb3JpZ2luYWwgcGF0Y2ggdGhpcyBjYWxsYmFjayB3YXMgZnJvbVxyXG4gICAgICAgICBjb25zdCBpbmRpdmlkdWFsID0gY3VycmVudC5wYXRjaGVzPy5bdHlwZV0uZmluZEluZGV4KHAgPT4gcC5pZCA9PT0gcGF0Y2guaWQpO1xyXG4gICAgICAgICBpZiAofmluZGl2aWR1YWwpIGN1cnJlbnQucGF0Y2hlcz8uW3R5cGVdLnNwbGljZShpbmRpdmlkdWFsLCAxKTtcclxuXHJcbiAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgY3VycmVudC5wYXRjaGVzPy5iZWZvcmUubGVuZ3RoIHx8XHJcbiAgICAgICAgICAgIGN1cnJlbnQucGF0Y2hlcz8uYWZ0ZXIubGVuZ3RoIHx8XHJcbiAgICAgICAgICAgIGN1cnJlbnQucGF0Y2hlcz8uaW5zdGVhZC5sZW5ndGhcclxuICAgICAgICAgKSByZXR1cm47XHJcblxyXG4gICAgICAgICAvLyBJZiBubyBvdGhlciBwYXRjaGVzIG9uIHRoZSBtb2R1bGUgYXJlIHJlbWFpbmluZywgY29tcGxldGVseSByZW1vdmUgYWxsIHBhdGNoZXNcclxuICAgICAgICAgLy8gYW5kIHJlLWFzc2lnbiB0aGUgb3JpZ2luYWwgbW9kdWxlIHRvIGl0cyBvcmlnaW5hbCBwbGFjZS5cclxuICAgICAgICAgY29uc3QgbW9kdWxlID0gcGF0Y2hlcy5maW5kSW5kZXgocCA9PiBwLm1kbCA9PSBtZGwgJiYgcC5mdW5jID09IGZ1bmMpO1xyXG5cclxuICAgICAgICAgaWYgKCFtb2R1bGUpIHJldHVybjtcclxuICAgICAgICAgcGF0Y2hlc1ttb2R1bGVdPy51bnBhdGNoKCk7XHJcbiAgICAgICAgIHBhdGNoZXMuc3BsaWNlKG1vZHVsZSwgMSk7XHJcbiAgICAgIH1cclxuICAgfTtcclxuXHJcbiAgIGN1cnJlbnQucGF0Y2hlc1t0eXBlXSA/Pz0gW107XHJcbiAgIGN1cnJlbnQucGF0Y2hlc1t0eXBlXS5wdXNoKHBhdGNoKTtcclxuXHJcbiAgIHJldHVybiBwYXRjaC51bnBhdGNoO1xyXG59XHJcblxyXG5mdW5jdGlvbiBiZWZvcmU8XHJcbiAgIE0gZXh0ZW5kcyBSZWNvcmQ8UCwgRm4+LFxyXG4gICBQIGV4dGVuZHMgUHJvcE9mPE0+XHJcbj4oY2FsbGVyOiBzdHJpbmcsIG1kbDogTSwgZnVuYzogUCwgY2FsbGJhY2s6IEJlZm9yZU92ZXJ3cml0ZTxNW1BdPiwgb25jZTogYm9vbGVhbiA9IGZhbHNlKTogKCkgPT4gdm9pZCB7XHJcbiAgIHJldHVybiBwYXRjaChjYWxsZXIsIG1kbCwgZnVuYywgY2FsbGJhY2ssIFR5cGUuQmVmb3JlLCBvbmNlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5zdGVhZDxcclxuICAgTSBleHRlbmRzIFJlY29yZDxQLCBGbj4sXHJcbiAgIFAgZXh0ZW5kcyBQcm9wT2Y8TT5cclxuPihjYWxsZXI6IHN0cmluZywgbWRsOiBNLCBmdW5jOiBQLCBjYWxsYmFjazogSW5zdGVhZE92ZXJ3cml0ZTxNW1BdPiwgb25jZTogYm9vbGVhbiA9IGZhbHNlKTogKCkgPT4gdm9pZCB7XHJcbiAgIHJldHVybiBwYXRjaChjYWxsZXIsIG1kbCwgZnVuYywgY2FsbGJhY2ssIFR5cGUuSW5zdGVhZCwgb25jZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFmdGVyPFxyXG4gICBNIGV4dGVuZHMgUmVjb3JkPFAsIEZuPixcclxuICAgUCBleHRlbmRzIFByb3BPZjxNPlxyXG4+KGNhbGxlcjogc3RyaW5nLCBtZGw6IE0sIGZ1bmM6IFAsIGNhbGxiYWNrOiBBZnRlck92ZXJ3cml0ZTxNW1BdPiwgb25jZTogYm9vbGVhbiA9IGZhbHNlKTogKCkgPT4gdm9pZCB7XHJcbiAgIHJldHVybiBwYXRjaChjYWxsZXIsIG1kbCwgZnVuYywgY2FsbGJhY2ssIFR5cGUuQWZ0ZXIsIG9uY2UpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGUobmFtZTogc3RyaW5nKSB7XHJcbiAgIHJldHVybiB7XHJcbiAgICAgIGdldFBhdGNoZXNCeUNhbGxlcixcclxuICAgICAgYmVmb3JlPFxyXG4gICAgICAgICBNIGV4dGVuZHMgUmVjb3JkPFAsIEZuPixcclxuICAgICAgICAgUCBleHRlbmRzIFByb3BPZjxNPlxyXG4gICAgICA+KG1kbDogTSwgZnVuYzogUCwgY2FsbGJhY2s6IEJlZm9yZU92ZXJ3cml0ZTxNW1BdPiwgb25jZTogYm9vbGVhbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgIHJldHVybiBiZWZvcmUobmFtZSwgbWRsLCBmdW5jLCBjYWxsYmFjaywgb25jZSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGluc3RlYWQ8XHJcbiAgICAgICAgIE0gZXh0ZW5kcyBSZWNvcmQ8UCwgRm4+LFxyXG4gICAgICAgICBQIGV4dGVuZHMgUHJvcE9mPE0+XHJcbiAgICAgID4obWRsOiBNLCBmdW5jOiBQLCBjYWxsYmFjazogSW5zdGVhZE92ZXJ3cml0ZTxNW1BdPiwgb25jZTogYm9vbGVhbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgIHJldHVybiBpbnN0ZWFkKG5hbWUsIG1kbCwgZnVuYywgY2FsbGJhY2ssIG9uY2UpO1xyXG4gICAgICB9LFxyXG4gICAgICBhZnRlcjxcclxuICAgICAgICAgTSBleHRlbmRzIFJlY29yZDxQLCBGbj4sXHJcbiAgICAgICAgIFAgZXh0ZW5kcyBQcm9wT2Y8TT5cclxuICAgICAgPihtZGw6IE0sIGZ1bmM6IFAsIGNhbGxiYWNrOiBBZnRlck92ZXJ3cml0ZTxNW1BdPiwgb25jZTogYm9vbGVhbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgIHJldHVybiBhZnRlcihuYW1lLCBtZGwsIGZ1bmMsIGNhbGxiYWNrLCBvbmNlKTtcclxuICAgICAgfSxcclxuICAgICAgdW5wYXRjaEFsbDogKCkgPT4gdW5wYXRjaEFsbChuYW1lKSxcclxuICAgfTtcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICAgY3JlYXRlLFxyXG4gICBiZWZvcmUsXHJcbiAgIGluc3RlYWQsXHJcbiAgIGFmdGVyLFxyXG4gICB1bnBhdGNoQWxsLFxyXG4gICBwYXRjaGVzXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgIGNyZWF0ZSxcclxuICAgYmVmb3JlLFxyXG4gICBpbnN0ZWFkLFxyXG4gICBhZnRlcixcclxuICAgdW5wYXRjaEFsbCxcclxuICAgcGF0Y2hlc1xyXG59O1xyXG4iXSwibmFtZXMiOlsiY3JlYXRlIiwiYmVmb3JlIiwiaW5zdGVhZCIsImFmdGVyIiwidW5wYXRjaEFsbCIsInBhdGNoZXMiLCJUeXBlIiwiQmVmb3JlIiwiSW5zdGVhZCIsIkFmdGVyIiwiTG9nZ2VyIiwiY3JlYXRlTG9nZ2VyIiwiZ2V0UGF0Y2hlc0J5Q2FsbGVyIiwiaWQiLCJfcGF0Y2hlcyIsImVudHJ5Iiwic3RvcmUiLCJwYXRjaCIsImNhbGxlciIsInB1c2giLCJsZW5ndGgiLCJ1bnBhdGNoIiwibWRsIiwiZnVuYyIsImNhbGxiYWNrIiwidHlwZSIsIm9uY2UiLCJpbmNsdWRlcyIsIlJlZmVyZW5jZUVycm9yIiwiVHlwZUVycm9yIiwiY3VycmVudCIsImdldCIsImZpbmQiLCJwIiwib3JpZ2luYWwiLCJwYXRjaGVkIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJyZXMiLCJhcmdzIiwiaSIsImluc3RhbmNlIiwidGVtcCIsImJpbmQiLCJBcnJheSIsImlzQXJyYXkiLCJlcnJvciIsInJldCIsImRlc2NyaXB0b3JzIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJ0b1N0cmluZyIsInZhbHVlIiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsIl9fb3JpZ2luYWwiLCJpbmRpdmlkdWFsIiwiZmluZElu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