"use strict";module.exports=function(a={},b=a=>a,{ignore:c=[],walkable:d=[],maxProperties:e=100}={}){let f=[a];for(;f.length&&e;){let g=f.shift();if(function(...a){try{return Reflect.apply(b,this,a)}catch{return!1}}(g))return g;if(Array.isArray(g))f.push(...g);else if("object"==typeof g&&null!==g){if(d.length)for(let h in g){let i=g[h];~d.indexOf(h)&&!~c.indexOf(h)&&f.push(i)}else for(let j in g){let k=g[j];g&& ~c.indexOf(j)||f.push(k)}}e--}}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21tb24vdXRpbGl0aWVzL2ZpbmRJblRyZWUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBmaW5kSW5UcmVlT3B0aW9ucyB7XHJcbiAgIGlnbm9yZT86IHN0cmluZ1tdO1xyXG4gICB3YWxrYWJsZT86IHN0cmluZ1tdO1xyXG4gICBtYXhQcm9wZXJ0aWVzPzogbnVtYmVyO1xyXG59XHJcblxyXG4vKipcclxuICogQG5hbWUgZmluZEluVHJlZVxyXG4gKiBAZGVzY3JpcHRpb24gU2VhcmNoZXMgdGhyb3VnaCB0aGUgd2Fsa2FibGVzIHByb3ZpZGVkIGluc2lkZSBhIHRyZWUuXHJcbiAqIEBwYXJhbSB7b2JqZWN0fGFycmF5fSB0cmVlIC0gVGhlIHRyZWUgdG8gc2VhcmNoXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZpbHRlciAtIFRoZSBmaWx0ZXIgdG8gdXNlIHRvIHJlc29sdmUgdGhlIHNlYXJjaFxyXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciB0aGUgc2VhcmNoXHJcbiAqIEBwYXJhbSB7YXJyYXl9IFtvcHRpb25zLmlnbm9yZT1bXV0gLSBUaGUga2V5cyB0byBpZ25vcmUgaW4gdGhlIHNlYXJjaFxyXG4gKiBAcGFyYW0ge2FycmF5fSBbb3B0aW9ucy53YWxrYWJsZT1bXV0gLSBUaGUga2V5cyB0byB3YWxrL3RyYXZlcnNlIGluIHRoZSBzZWFyY2hcclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFByb3BlcnRpZXM9MTAwXSAtIFRoZSBrZXlzIHRvIHdhbGsvdHJhdmVyc2UgaW4gdGhlIHNlYXJjaFxyXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gd2l0aCBhIGNhY2hlYWJsZSB2YWx1ZVxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIGZpbmRJblRyZWUodHJlZTogUmVjb3JkPGFueSwgYW55PiB8IGFueVtdID0ge30sIGZpbHRlcjogKC4uLmFyZ3M6IGFueSkgPT4gYm9vbGVhbiA9IF8gPT4gXywgeyBpZ25vcmUgPSBbXSwgd2Fsa2FibGUgPSBbXSwgbWF4UHJvcGVydGllcyA9IDEwMCB9OiBmaW5kSW5UcmVlT3B0aW9ucyA9IHt9KTogYW55IHtcclxuICAgY29uc3Qgc3RhY2sgPSBbdHJlZV07XHJcbiAgIGNvbnN0IHdyYXBGaWx0ZXIgPSBmdW5jdGlvbiAoLi4uYXJncykge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgICByZXR1cm4gUmVmbGVjdC5hcHBseShmaWx0ZXIsIHRoaXMsIGFyZ3MpO1xyXG4gICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgIH07XHJcblxyXG4gICB3aGlsZSAoc3RhY2subGVuZ3RoICYmIG1heFByb3BlcnRpZXMpIHtcclxuICAgICAgY29uc3Qgbm9kZSA9IHN0YWNrLnNoaWZ0KCk7XHJcbiAgICAgIGlmICh3cmFwRmlsdGVyKG5vZGUpKSByZXR1cm4gbm9kZTtcclxuXHJcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG5vZGUpKSB7XHJcbiAgICAgICAgIHN0YWNrLnB1c2goLi4ubm9kZSk7XHJcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG5vZGUgPT09ICdvYmplY3QnICYmIG5vZGUgIT09IG51bGwpIHtcclxuICAgICAgICAgaWYgKHdhbGthYmxlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBub2RlKSB7XHJcbiAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gbm9kZVtrZXldO1xyXG4gICAgICAgICAgICAgICBpZiAofndhbGthYmxlLmluZGV4T2Yoa2V5KSAmJiAhfmlnbm9yZS5pbmRleE9mKGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBub2RlKSB7XHJcbiAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gbm9kZVtrZXldO1xyXG4gICAgICAgICAgICAgICBpZiAobm9kZSAmJiB+aWdub3JlLmluZGV4T2Yoa2V5KSkgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICAgICBzdGFjay5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgbWF4UHJvcGVydGllcy0tO1xyXG4gICB9XHJcbn07XHJcblxyXG4vLyBAdHMtaWdub3JlXHJcbmV4cG9ydCA9IGZpbmRJblRyZWU7Il0sIm5hbWVzIjpbInRyZWUiLCJmaWx0ZXIiLCJfIiwiaWdub3JlIiwid2Fsa2FibGUiLCJtYXhQcm9wZXJ0aWVzIiwic3RhY2siLCJsZW5ndGgiLCJub2RlIiwic2hpZnQiLCJ3cmFwRmlsdGVyIiwiYXJncyIsIlJlZmxlY3QiLCJhcHBseSIsIkFycmF5IiwiaXNBcnJheSIsInB1c2giLCJrZXkiLCJ2YWx1ZSIsImluZGV4T2YiXSwibWFwcGluZ3MiOiJBQUFBLDRCQWtCQSxTQUFvQkEsQ0FBOEIsQ0FBRyxFQUFFLENBQUVDLENBQWlDLENBQUdDLENBQUMsRUFBREEsQ0FBQyxBQUFLLENBQUUsQ0FBRUMsTUFBTSxDQUFOQSxDQUFNLENBQUcsRUFBRSxDQUFFQyxRQUFRLENBQVJBLENBQVEsQ0FBRyxFQUFFLENBQUVDLGFBQWEsQ0FBYkEsQ0FBYSxDQUFHLEdBQUcsQ0FBcUIsQ0FBRyxFQUFFLENBQU8sQ0FDcEwsSUFBTUMsQ0FBSyxDQUFHLENBREdOLENBQThCLENBQzNCLEFBQUMsQUFTckIsTUFBT00sQ0FBSyxDQUFDQyxNQUFNLEVBQUlGLENBQWEsRUFBRSxDQUNuQyxJQUFNRyxDQUFJLENBQUdGLENBQUssQ0FBQ0csS0FBSyxFQUFFLEFBQUMsQUFDM0IsSUFBSUMsQUFWWSxTQUFVLEdBQUdDLENBQUksQ0FBRSxDQUNuQyxHQUFJLENBQ0QsT0FBT0MsT0FBTyxDQUFDQyxLQUFLLENBQUNaLENBQU0sQ0FBRSxJQUFJLENBQUVVLENBQUksQ0FBQyxBQUFDLENBQzNDLEFBQUMsS0FBTSxDQUNMLE1BQU8sQ0FBQSxDQUFLLEFBQUMsQ0FDZixDQUNILENBSWlCSCxDQUFJLENBQUMsQ0FBRSxPQUFPQSxDQUFJLEFBQUMsQUFFbEMsSUFBSU0sS0FBSyxDQUFDQyxPQUFPLENBQUNQLENBQUksQ0FBQyxDQUNwQkYsQ0FBSyxDQUFDVSxJQUFJLElBQUlSLENBQUksQ0FBQyxNQUNmLEdBQUksQUFBZ0IsUUFBUSxFQUF4QixPQUFPQSxDQUFJLEVBQWlCQSxBQUFTLElBQUksR0FBYkEsQ0FBSSxBQUFTLEVBQ2pELEdBQUlKLENBQVEsQ0FBQ0csTUFBTSxDQUNoQixJQUFLLElBQU1VLENBQUcsSUFBSVQsQ0FBSSxDQUFFLENBQ3JCLElBQU1VLENBQUssQ0FBR1YsQ0FBSSxDQUFDUyxDQUFHLENBQUMsQUFBQyxBQUNwQixFQUFDYixDQUFRLENBQUNlLE9BQU8sQ0FBQ0YsQ0FBRyxDQUFDLEVBQUksQ0FBQyxDQUFDZCxDQUFNLENBQUNnQixPQUFPLENBQUNGLENBQUcsQ0FBQyxFQUNoRFgsQ0FBSyxDQUFDVSxJQUFJLENBQUNFLENBQUssQ0FBQyxDQUV0QixLQUVELElBQUssSUFBTUQsQ0FBRyxJQUFJVCxDQUFJLENBQUUsQ0FDckIsSUFBTVUsQ0FBSyxDQUFHVixDQUFJLENBQUNTLENBQUcsQ0FBQyxBQUFDLENBQ3BCVCxDQUFJLEdBQUksQ0FBQ0wsQ0FBTSxDQUFDZ0IsT0FBTyxDQUFDRixDQUFHLENBQUMsRUFFaENYLENBQUssQ0FBQ1UsSUFBSSxDQUFDRSxDQUFLLENBQUMsQ0FDbkIsQUFDSCxDQUNILEFBQ0RiLENBQWEsRUFBRSxDQUNqQixDQUNILEFBR21CIn0=