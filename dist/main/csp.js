"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"remove",{enumerable:!0,get:()=>remove});const a=require("../common/constants"),b=require("electron");function remove(){b.app.on("browser-window-created",(b,c)=>{let{session:d}=c.webContents;d.webRequest.onHeadersReceived((b,c)=>{let{responseHeaders:d}=b,e=Object.keys(d);for(let f=0;f<a.Headers.delete.length;f++){let g=a.Headers.delete[f];if(!g)continue;let h=e.find(a=>a.toLowerCase()===g.toLowerCase());h&&delete d[h]}for(let i=0;i<a.Headers.append.length;i++){let j=a.Headers.append[i];if(!j)continue;if(j.exists?.name){let k=e.find(a=>a.toLowerCase()===j.exists.name);if(j.exists.condition!==Boolean(k))continue}let l=e.find(a=>a.toLowerCase()===j.name.toLowerCase());l&&(d[l]=[j.value])}c({responseHeaders:d})})})}